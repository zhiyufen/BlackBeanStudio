### StarUML 学习笔记

[TOC]

#### 1. 类图(ClassDiagram)

对于类图来说，难点在于理解并画出类与类之前的关系；uml提供下面的关系：

| StarUML中显示         | 说明                 | 描述                       |
| --------------------- | -------------------- | -------------------------- |
| Association           | 【双向关联】关联     | 双箭头，但通常省略2个箭头  |
| Directed Association  | 【单向关联】直接关联 | 但箭头，导航关系，所属关系 |
| Aggregation           | 聚合                 | 强包含关系，所属关系       |
| Composition           | 组合                 | 弱包含关系，所属关系       |
| Dependency            | 依赖                 | 需要别人 协助              |
| Generalization        | 泛化                 | 抽象化为父类，继承关       |
| Interface Realization | 接口实现             |                            |

##### 泛化（Generalization）

**泛化关系**： 是一种继承关系，表示一般与特殊的关系，它指定了子类如何特化父类的所有特征和行为。例如：老虎是动物的一种，即有老虎的特性也有动物的共性。

![Iamge](http://www.uml.org.cn/oobject/images/2016090621.png)

##### 实现（Interface Realization）

接口实现：是一种类与接口的关系，表示类是接口所有特征和行为的实现；

![interface realization](http://www.uml.org.cn/oobject/images/2016090622.png)

##### 关联（Association）

**关联关系**：一种拥有的关系，它使一个类知道另一个类的属性和方法；如：老师与学生，丈夫与妻子关联可以是双向的，也可以是单向的。双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。

他体现的是两个类、或者类与接口之间语义级别的一种强依赖关系，比如我和我的朋友；这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是长期性的，而且双方的关系一般是平等的、关联可以是单向、双向的；表现在代码层面，为被关联类B以类属性的形式出现在关联类A中，也可能是关联类A引用了一个类型为被关联类B的全局变量； 

**代码体现**：成员变量

![image](http://www.uml.org.cn/oobject/images/2016090623.png)

上图中，老师与学生是双向关联，老师有多名学生，学生也可能有多名老师。但学生与某课程间的关系为单向关联，一名学生可能要上多门课程，课程是个抽象的东西他不拥有学生

还有一种特殊关联：自身关联

![image2](http://www.uml.org.cn/oobject/images/2016090624.png)

##### 聚合（Aggregation）

**聚合关系**：是关联关系的一种特例，他体现的是整体与部分、拥有的关系，即has-a的关系，此时整体与部分之间是可分离的，且部分可以离开整体而单独存在；他们可以具有各自的生命周期，部分可以属于多个整体对象，也可以为多个整体对象共享；比如计算机与CPU、公司与员工、车和轮胎的关系等。 

聚合关系是关联关系的一种，是强的关联关系；关联和聚合在语法上无法区分，必须考察具体的逻辑关系。

**代码体现**：成员变量

![image4](http://www.uml.org.cn/oobject/images/2016090625.png)



##### 组合（Composition）

**组合关系**： 是整体与部分的关系，但部分不能离开整体而单独存在。如公司和部门是整体和部分的关系，没有公司就不存在部门。

组合也是关联关系的一种特例，这种关系比聚合更强，也称为强聚合；他同样体现整体与部分间的关系，但此时整体与部分是不可分的，整体的生命周期结束也就意味着部分的生命周期结束；

**代码体现**：成员变量

![image5](http://www.uml.org.cn/oobject/images/2016090626.png)

##### 依赖（Dependency）

依赖关系：一种使用的关系；简单的理解，就是一个类A使用到了另一个类B，而这种使用关系是具有偶然性的、、临时性的、非常弱的，但是B类的变化会影响到A；比如某人要过河，需要借用一条船，此时人与船之间的关系就是依赖；

**代码体现**：局部变量、方法的参数或者对静态方法的调用；

![image6](http://www.uml.org.cn/oobject/images/2016090627.png)

##### 总结

对于继承、实现这两种关系没多少疑问，他们体现的是一种类与类、或者类与接口间的纵向关系；其他的四者关系则体现的是类与类、或者类与接口间的引用、横向关系，是比较难区分的，有很多事物间的关系要想准备定位是很难的，前面也提到，这几种关系都是语义级别的，所以从代码层面并不能完全区分各种关系；

但总的来说，后几种关系所表现的强弱程度依次为：**组合>聚合>关联>依赖；**

下面这张UML图，比较形象地展示了各种类图关系：

![image7](http://www.uml.org.cn/oobject/images/2016090628.png)

本类图的学习笔记来自大神的文章： [UML类图几种关系的总结](http://www.uml.org.cn/oobject/201609062.asp) 和 [UML类图关系（泛化 、继承、实现、依赖、关联、聚合、组合）](https://www.cnblogs.com/zhoading/p/8300858.html)
