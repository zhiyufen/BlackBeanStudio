## 工具类杂记笔记



## 1. 生成随机字符串

在 Java 8 及更高版本中， `SecureRandom.ints(…)` 方法可用于有效地返回指定范围内的伪随机值流。要将生成的伪随机值限制为字母数字值，请使用 `filter(…)` 流方法。要将过滤后的字母数字伪随机值限制为所需的长度，请调用 `limit(…)` 方法。最后，收集结果流中的值并构造一个字符串。

```java
import java.security.SecureRandom;
 
class Main {
    // 生成特定长度的随机字母数字密码的方法
    public static String generateRandomPassword(int len, int randNumOrigin, int randNumBound) {
        SecureRandom random = new SecureRandom();
        return random.ints(randNumOrigin, randNumBound + 1)
                .filter(i -> Character.isAlphabetic(i) || Character.isDigit(i))
                .limit(len)
                .collect(StringBuilder::new, StringBuilder::appendCodePoint,
                        StringBuilder::append)
                .toString();
    }
 
    public static void main(String[] args) {
        int len = 10;
        int randNumOrigin = 48, randNumBound = 122;
 
        System.out.println(generateRandomPassword(len, randNumOrigin, randNumBound));
    }
}
```

上述解决方案生成所需长度的强随机字母数字密码。我们可以进一步简化代码以仅生成数字 `(0-9)` 密码，密码全部大写 `(A-Z)` 字符或全部小写 `(a-z)` 字符或属于某个 ASCII 范围内的任何其他字符。

例如，要生成所有小写字母的密码，请将范围设置为 `97-122` （ASCII 值 `'a'-'z'`).

```java
import java.security.SecureRandom;
import java.util.stream.Collectors;
 
class Main
{
    // 生成特定长度的随机字母数字密码的方法
    public static String generateRandomPassword(int len, int randNumOrigin, int randNumBound)
    {
        SecureRandom random = new SecureRandom();
        return random.ints(len, randNumOrigin, randNumBound + 1)
                    .mapToObj(i -> String.valueOf((char)i))
                    .collect(Collectors.joining());
    }
 
    public static void main(String[] args)
    {
        int len = 10;
        int randNumOrigin = 97, randNumBound = 122;
 
        System.out.println(generateRandomPassword(len, randNumOrigin, randNumBound));
    }
}
```

